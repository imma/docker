#!/usr/bin/env bash

function bootstrap {
  local shome="$(cd -P -- "${BASH_SOURCE%/*}/.." && pwd -P)"
  source "$shome/script/profile"

  case "$(uname -s)" in
    Darwin)
      true
      ;;
    Linux)
      sudo apt-get install apt-transport-https ca-certificates curl software-properties-common
      curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
      sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
      sudo apt-get update
      sudp apt-get remove docker docker-engine docker.io || true
      sudo apt-get install -y docker-ce="$DOCKER_UBUNTU_VERSION"
      sudo usermod -a -G docker ubuntu || true
      sudo usermod -a -G staff ubuntu || true
      ;;
  esac
}

bootstrap
